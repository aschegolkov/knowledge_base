# Мультикастные MAC-адреса на уровне 2 (L2)

## Что такое мультикастные MAC-адреса?
Мультикастные MAC-адреса — это специальные адреса, зарезервированные для передачи данных группе устройств в пределах Ethernet-сегмента. Эти адреса находятся в определённых диапазонах и используются для протоколов управления или оптимизации трафика.

В отличие от широковещания (**broadcast**, MAC: `FF:FF:FF:FF:FF:FF`), мультикаст предназначен **только для определённых устройств**, подписанных на этот адрес.

---

## Формат мультикастного MAC-адреса
Мультикастные MAC-адреса всегда начинаются с префикса:  
`01:XX:XX:XX:XX:XX`, где первый октет (`01`) указывает на **групповую (мультикастную) рассылку**.

### Примеры
- **01:80:C2:00:00:14** — IS-IS для LAN.
- **01:80:C2:00:00:00** — STP (Spanning Tree Protocol).
- **01:80:C2:00:00:03** — LLDP.
- **01:00:5E:XX:XX:XX** — Мультикаст IP (перевод IP-мультикастов в MAC).

---

## Особенности мультикастных MAC-адресов

1. **Зарезервированы для протоколов управления**  
   Некоторые адреса используются для L2-протоколов, например:
   - IS-IS (`01:80:C2:00:00:14`)
   - STP (`01:80:C2:00:00:00`)  
   - LLDP (`01:80:C2:00:00:03`)  

   Эти адреса не пересекаются с "обычными" MAC-адресами устройств.

2. **Обрабатываются только нужными устройствами**  
   Устройства, не участвующие в протоколе (например, IS-IS), **игнорируют кадры**, адресованные на мультикастный MAC.

3. **Работа в "глупых" коммутаторах**  
   Если коммутатор не умеет разбираться в мультикасте (нет поддержки IGMP Snooping и других механизмов):
   - Кадры с мультикастным MAC-адресом рассылаются **по всем портам VLAN** (как broadcast).

4. **Работа в "умных" коммутаторах**  
   - Умные коммутаторы могут ограничивать рассылку только тем портам, где есть устройства, подписанные на данный мультикаст.

---

## Различия между Broadcast и Multicast

| **Характеристика**         | **Broadcast**                        | **Multicast**                           |
| -------------------------- | ------------------------------------ | --------------------------------------- |
| **MAC-адрес**              | `FF:FF:FF:FF:FF:FF`                  | `01:XX:XX:XX:XX:XX`                     |
| **Получатели**             | Все устройства в VLAN                | Только устройства, "слушающие" адрес    |
| **Обработка коммутатором** | Всегда рассылается на все порты VLAN | Рассылка по всем или только подписанным |
| **Примеры протоколов**     | ARP, DHCP                            | IS-IS, STP, LLDP, IP Multicast          |

---

## Мультикастные MAC для IS-IS

1. **IS-IS использует адрес:**  
   - **01:80:C2:00:00:14** для LAN.

2. **Как это работает:**  
   - Устройства с включённым IS-IS обрабатывают кадры с этим MAC-адресом.
   - Коммутатор рассылает их на все порты VLAN, если не поддерживает фильтрацию мультикаста.

3. **Почему это не broadcast:**  
   - Хотя кадры доставляются всем устройствам в VLAN, только те, у кого активен IS-IS, действительно их обрабатывают.

---

## Итог
Мультикастные MAC-адреса — это способ адресации групп устройств в Ethernet-сетях. В простых сетях они могут работать как широковещание, но их использование позволяет создавать избирательный обмен данными в сложных сетях с поддержкой фильтрации мультикаста.
